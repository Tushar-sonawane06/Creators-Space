<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Blog | Creators-Space</title>
  <link rel="stylesheet" href="./src/css/style.css" />
  <link rel="stylesheet" href="./src/css/utils.css">
  <link rel="stylesheet" href="./src/css/responsive.css" />
  <link rel="stylesheet" href="./src/css/blog.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    /* Extra styling for comments & likes */
    .interaction-box {
      margin-top: 10px;
      padding: 10px;
      border-top: 1px solid #ddd;
    }

    .like-btn {
      cursor: pointer;
      background: none;
      border: none;
      font-size: 16px;
      margin-bottom: 8px;
    }

    .comment-section {
      margin-top: 10px;
    }

    .comment-section textarea {
      width: 100%;
      padding: 6px;
      margin-bottom: 6px;
    }

    .comment {
      background: #f0f0f0;
      padding: 6px;
      margin: 4px 0;
      border-radius: 5px;
      font-size: 14px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .comment span {
      flex: 1;
    }

    .comment-actions button {
      margin-left: 5px;
      padding: 2px 6px;
      cursor: pointer;
      font-size: 12px;
    }

    /* Resource Sharing Hub */
.resource-hub {
  margin: 30px auto;
  padding: 20px;
  max-width: 900px;
  border: 2px solid #ddd;
  border-radius: 15px;
  background: #f9f9f9;
}

.resource-hub h2 {
  text-align: center;
  margin-bottom: 20px;
}

.resource-input {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
}

.resource-input input {
  flex: 1;
  padding: 10px;
  border-radius: 5px;
  border: 1px solid #ccc;
}

.resource-input button {
  padding: 10px 15px;
  border: none;
  border-radius: 5px;
  background: #9370db;
  color: white;
  cursor: pointer;
  transition: background 0.3s ease;
}

.resource-input button:hover {
  background: #7a52c4;
}

.resources-container {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
}

.resource-card {
  background: white;
  padding: 15px;
  border-radius: 10px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  width: calc(33% - 10px);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 150px;
}

.resource-card span {
  text-align: justify; /* JUSTIFIED TEXT */
  flex: 1;
}

.resource-card button {
  align-self: flex-end;
  background: #e63946;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  padding: 5px 10px;
  transition: background 0.3s ease;
}

.resource-card button:hover {
  background: #c12c3b;
}

@media (max-width: 768px) {
  .resource-card { width: calc(50% - 10px); }
}

@media (max-width: 480px) {
  .resource-card { width: 100%; }
}

  </style>
</head>

<body id="main-body" class="overflow-x-hidden">
  <!-- Navbar -->
  <div class="navbar">
    <h1><a href="./">
        <img id="navbar-logo" width="80px" src="./assets/images/logo-nav-light.png" alt="logo Creators-Space">
        <br>Creators-Space</a></h1>
    <div class="nav-links align-items-center">
      <a href="index.html" data-translate="navbar.home">Home</a>
      <li class="nav-item">
        <a href="#" class="dropdown-toggle"><span data-translate="navbar.about">About</span> <i class="fa-solid fa-chevron-down arrow"></i></a>
        <div class="dropdown">
          <a href="about.html" data-translate="navbar.aboutUs">About Us</a>
          <a href="campus-ambassador.html" data-translate="navbar.campusAmbassador">Campus Ambassador</a>
        </div>
      </li>
      <li class="nav-item">
        <a href="#" class="dropdown-toggle"><span data-translate="navbar.programs">Programs</span> <i class="fa-solid fa-chevron-down arrow"></i></a>
        <div class="dropdown">
          <a href="courses.html" data-translate="navbar.courses">Courses</a>
          <a href="internship.html" data-translate="navbar.internship">Internship</a>
          <a href="services.html" data-translate="navbar.services">Services</a>
          <a href="freelancing.html" data-translate="navbar.freelance">Freelance</a>
        </div>
      </li>
      <li class="nav-item">
        <a href="#" class="dropdown-toggle"><span data-translate="navbar.resources">Resources</span> <i class="fa-solid fa-chevron-down arrow"></i></a>
        <div class="dropdown">
          <a href="blog.html" data-translate="navbar.blog">Blog</a>
          <a href="bookmarked.html" data-translate="navbar.bookmarks">BookMarks</a>
          <a href="./certificate/" data-translate="navbar.certificates">Certificates</a>
          <a href="quiz.html">Quiz</a>
        </div>
      </li>
      <a href="projects.html" data-translate="navbar.projects">Projects</a>
      <a href="contact.html" data-translate="navbar.contact">Contact</a>
      <div id="authSection">
        <a href="./login.html" class="btn login" data-translate="navbar.login">Log In</a>
        <a href="./signup.html" class="btn signup" data-translate="navbar.signup">Sign Up</a>
      </div>
      <div id="userSection" style="display: none; align-items: center; gap: 10px;">
        <button id="logoutBtn" class="btn login" data-translate="navbar.logout">Logout</button>
        <a href="profile.html" title="Your Profile">
          <img id="profileImg" src="https://cdn-icons-png.flaticon.com/512/847/847969.png" alt="Profile" width="30" style="border-radius: 50%;" />
        </a>
      </div>
    </div>
    <div class="nav-toggle align-items-center justify-content-center" onclick="toggleNav()">
      <svg viewBox="0 0 18 18" id="navbar-barger-logo" class="">
        <polyline id="globalnav-menutrigger-bread-bottom" fill="none" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" points="2 12, 16 12"></polyline>
        <polyline id="globalnav-menutrigger-bread-top" fill="none" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" points="2 5, 16 5"></polyline>
      </svg>
      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" id="navbar-x-logo" class="bi bi-x-lg d-none" viewBox="0 0 16 16">
        <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z" />
      </svg>
    </div>
  </div>

  <!--Dark mode switch -->
  <div class="toggle-switch">
    <label class="switch-label">
      <input type="checkbox" class="checkbox" id="dark-mode-toggle" />
      <span class="slider"></span>
    </label>
  </div>

  <div class="blog-header">
    <h1>Explore Our Latest Blogs</h1>
    <input type="text" id="blog-search" placeholder="Search blog titles...">
  </div>

  <section class="blog-container">
    <!-- Blog 1 -->
    <div class="blog-card" data-id="blog1">
      <img src="assets/images/blogpage/jsin30days.png" alt="Blog thumbnail" />
      <div class="blog-content">
        <span class="blog-category">JavaScript</span>
        <div class="blog-title">Mastering JavaScript in 30 Days</div>
        <div class="blog-meta">By Anurag | April 10, 2025</div>
        <div class="blog-excerpt">Learn how to go from beginner to advanced in JavaScript with practical tips, projects, and daily challenges.</div>
      </div>
      <!-- Like + Comment -->
      <div class="interaction-box">
        <button class="like-btn">ü§ç Like (<span class="like-count">0</span>)</button>
        <div class="comment-section">
          <textarea placeholder="Write a comment..."></textarea>
          <button class="comment-btn">Post Comment</button>
          <div class="comment-list"></div>
        </div>
      </div>
    </div>

    <!-- Blog 2 -->
    <div class="blog-card" data-id="blog2">
      <img src="assets/images/blogpage/ui-ux.jpeg" alt="Blog thumbnail" />
      <div class="blog-content">
        <span class="blog-category">UI/UX</span>
        <div class="blog-title">UI/UX Trends to Watch in 2025</div>
        <div class="blog-meta">By Sneha | March 28, 2025</div>
        <div class="blog-excerpt">Explore emerging UI/UX design trends shaping the future of user experience across digital platforms.</div>
      </div>
      <div class="interaction-box">
        <button class="like-btn">ü§ç Like (<span class="like-count">0</span>)</button>
        <div class="comment-section">
          <textarea placeholder="Write a comment..."></textarea>
          <button class="comment-btn">Post Comment</button>
          <div class="comment-list"></div>
        </div>
      </div>
    </div>

    <!-- Blog 3 -->
    <div class="blog-card" data-id="blog3">
      <img src="assets/images/blogpage/techstartup.jpeg" alt="Blog thumbnail" />
      <div class="blog-content">
        <span class="blog-category">StartUp</span>
        <div class="blog-title">How to Launch Your Tech Startup in distinct countries as we have more countries</div>
        <div class="blog-meta">By Raghav | March 15, 2025</div>
        <div class="blog-excerpt">Step-by-step guide to launching your startup ‚Äî from ideation to product-market fit and fundraising. Step-by-step guide to launching your startup ‚Äî from ideation to product-market fit and fundraising.</div>
      </div>
      <div class="interaction-box">
        <button class="like-btn">ü§ç Like (<span class="like-count">0</span>)</button>
        <div class="comment-section">
          <textarea placeholder="Write a comment..."></textarea>
          <button class="comment-btn">Post Comment</button>
          <div class="comment-list"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Resource Sharing Hub -->
<section class="resource-hub">
  <h2>Resource Sharing Hub</h2>
  
  <div class="resource-input">
    <input type="text" id="resourceName" placeholder="Enter resource name or description">
    <button id="addResourceBtn">Add</button>
  </div>

  <input type="text" id="resourceSearch" placeholder="Search resources..." style="width:100%; padding:8px; margin-bottom:20px; border-radius:5px; border:1px solid #ccc;">

  <div class="resources-container" id="resourcesContainer"></div>
</section>


  <footer class="footer">
    <div class="social">
      <h1><img width="80px" src="./assets/images/logo.png" alt="logo Anurag Vishwakarma's Creators-Space">
        <br>Creators-Space
      </h1>
      <h3>Social Media</h3>
      <div class="all-social-links"></div>
    </div>
    <div class="contact">
      <h3>Contact Us</h3>
      <p><a href="mailto:21brac0401@polygwalior.ac.in"><i class="fa-solid fa-envelope" id="envelope-icon"></i>21brac0401@polygwalior.ac.in</a></p>
      <br>
      <p><a href="tel:+9188xxxxxx89"><i class="fa-solid fa-phone" id="call-icon"></i>+91 88xxxxxx89</a></p>
    </div>
    <div class="form">
        <h3>Get In Touch</h3>
        <div class="form-group">
            <label for="footer-name">Name</label>
            <input type="text" id="footer-name" placeholder="Enter name" name="name">
        </div>
        <div class="form-group">
            <label for="footer-email">Email</label>
            <input type="email" id="footer-email" placeholder="Enter email" name="email">
        </div>
        <div class="form-group">
            <label for="footer-message">Message</label>
            <textarea id="footer-message" placeholder="Enter message" name="message"></textarea>
        </div>
        <button>Send</button>
      </div>
    <div class="copy">
      <p>Copyright &copy; 2024 - 2025 Creators-Space. All rights reserved.</p>
    </div>
  </footer>

  <script src="./src/js/language.js"></script>
  <script src="./src/js/navbar.js"></script>
  <script src="./src/js/auth.js"></script>
  <script src="./src/js/utils.js"></script>

  <!-- Dark mode + logo switch -->
  <script>
    const toggle = document.getElementById('dark-mode-toggle');
    const body = document.body;
    const logo = document.getElementById('navbar-logo');
    function updateLogo() {
      if (body.classList.contains('dark')) {
        logo.src = './assets/images/logo-nav-dark.png';
      } else {
        logo.src = './assets/images/logo-nav-light.png';
      }
    }
    toggle.addEventListener('change', () => {
      body.classList.toggle('dark');
      updateLogo();
    });
    document.addEventListener('DOMContentLoaded', () => {
      updateLogo();
    });
  </script>

  <!-- Blog search -->
  <script>

    
    document.addEventListener("DOMContentLoaded", function () {
      const searchInput = document.getElementById("blog-search");
      const blogCards = document.querySelectorAll(".blog-card");
      searchInput.addEventListener("input", function () {
        const query = this.value.toLowerCase().trim();
        blogCards.forEach(card => {
          const title = card.querySelector(".blog-title").textContent.toLowerCase();
          const category = card.querySelector(".blog-category").textContent.toLowerCase();
          const excerpt = card.querySelector(".blog-excerpt").textContent.toLowerCase();
          const matches = title.includes(query) || category.includes(query) || excerpt.includes(query);
          card.style.display = matches ? "block" : "none";
        });
      });
    });
  </script>

  <!-- Likes + Comments with Edit/Delete -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const blogCards = document.querySelectorAll(".blog-card");

      blogCards.forEach(card => {
        const blogId = card.getAttribute("data-id");

        // ---------- LIKE SYSTEM ----------
        const likeBtn = card.querySelector(".like-btn");
        const likeCountEl = card.querySelector(".like-count");
        let likes = parseInt(localStorage.getItem(blogId + "_likes")) || 0;
        let liked = JSON.parse(localStorage.getItem(blogId + "_liked")) || false;

        likeCountEl.textContent = likes;
        likeBtn.textContent = liked ? `‚ù§Ô∏è Liked (${likes})` : `ü§ç Like (${likes})`;

        likeBtn.addEventListener("click", () => {
          if (liked) {
            likes--;
            liked = false;
          } else {
            likes++;
            liked = true;
          }
          localStorage.setItem(blogId + "_likes", likes);
          localStorage.setItem(blogId + "_liked", liked);
          likeBtn.textContent = liked ? `‚ù§Ô∏è Liked (${likes})` : `ü§ç Like (${likes})`;
        });

        // ---------- COMMENT SYSTEM ----------
        const commentBtn = card.querySelector(".comment-btn");
        const commentInput = card.querySelector("textarea");
        const commentList = card.querySelector(".comment-list");

        function loadComments() {
          const comments = JSON.parse(localStorage.getItem(blogId + "_comments")) || [];
          commentList.innerHTML = "";
          comments.forEach((c, index) => {
            const div = document.createElement("div");
            div.className = "comment";
            div.innerHTML = `
              <span>${c}</span>
              <div class="comment-actions">
                <button onclick="editComment('${blogId}', ${index})">Edit</button>
                <button onclick="deleteComment('${blogId}', ${index})">Delete</button>
              </div>
            `;
            commentList.appendChild(div);
          });
        }

        commentBtn.addEventListener("click", () => {
          const comment = commentInput.value.trim();
          if (comment) {
            const comments = JSON.parse(localStorage.getItem(blogId + "_comments")) || [];
            comments.push(comment);
            localStorage.setItem(blogId + "_comments", JSON.stringify(comments));
            commentInput.value = "";
            loadComments();
          }
        });

        loadComments();
      });
    });

    // ---------- GLOBAL FUNCTIONS FOR EDIT/DELETE ----------
    function editComment(blogId, index) {
      const comments = JSON.parse(localStorage.getItem(blogId + "_comments")) || [];
      const newComment = prompt("Edit your comment:", comments[index]);
      if (newComment !== null && newComment.trim() !== "") {
        comments[index] = newComment.trim();
        localStorage.setItem(blogId + "_comments", JSON.stringify(comments));
        location.reload(); // reload to refresh UI
      }
    }

    function deleteComment(blogId, index) {
      const comments = JSON.parse(localStorage.getItem(blogId + "_comments")) || [];
      comments.splice(index, 1);
      localStorage.setItem(blogId + "_comments", JSON.stringify(comments));
      location.reload();
    }
  </script>

  <script>
  const resourceInput = document.getElementById("resourceName");
  const addResourceBtn = document.getElementById("addResourceBtn");
  const resourcesContainer = document.getElementById("resourcesContainer");
  const resourceSearch = document.getElementById("resourceSearch");

  let resources = JSON.parse(localStorage.getItem("resources")) || [];

  function renderResources(filter = "") {
    resourcesContainer.innerHTML = "";
    resources
      .filter(r => r.toLowerCase().includes(filter.toLowerCase()))
      .forEach((r, index) => {
        const card = document.createElement("div");
        card.className = "resource-card";

        const span = document.createElement("span");
        span.innerText = r;

        const deleteBtn = document.createElement("button");
        deleteBtn.innerText = "Delete";
        deleteBtn.addEventListener("click", () => deleteResource(index));

        card.appendChild(span);
        card.appendChild(deleteBtn);
        resourcesContainer.appendChild(card);
      });
  }

  addResourceBtn.addEventListener("click", () => {
    const val = resourceInput.value.trim();
    if (!val) return alert("Enter a resource");
    resources.push(val);
    localStorage.setItem("resources", JSON.stringify(resources));
    resourceInput.value = "";
    renderResources(resourceSearch.value);
  });

  resourceInput.addEventListener("keypress", e => {
    if (e.key === "Enter") addResourceBtn.click();
  });

  function deleteResource(index) {
    resources.splice(index, 1);
    localStorage.setItem("resources", JSON.stringify(resources));
    renderResources(resourceSearch.value);
  }

  resourceSearch.addEventListener("input", () => {
    renderResources(resourceSearch.value);
  });

  renderResources();
</script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
  const limitLines = {
    "blog-title": 2,
    "blog-excerpt": 3
  };

  document.querySelectorAll(".blog-title, .blog-excerpt").forEach(el => {
    const lineClamp = parseInt(getComputedStyle(el).getPropertyValue("-webkit-line-clamp"));
    const fullText = el.textContent.trim();

    // Clone element to measure text height
    const clone = el.cloneNode(true);
    clone.style.display = "block";
    clone.style.position = "absolute";
    clone.style.visibility = "hidden";
    clone.style.webkitLineClamp = "unset";
    clone.style.maxHeight = "none";
    document.body.appendChild(clone);

    const isOverflowing = clone.scrollHeight > el.clientHeight;
    document.body.removeChild(clone);

    if (isOverflowing) {
      const btn = document.createElement("button");
      btn.textContent = "Read more ‚Üì";
      btn.classList.add("read-more-btn");

      btn.addEventListener("click", () => {
        const expanded = el.classList.toggle("expanded");

        if (expanded) {
          el.style.webkitLineClamp = "unset";
          el.style.overflow = "visible";
          btn.textContent = "Read less ‚Üë";
        } else {
          el.style.webkitLineClamp = limitLines[el.classList.contains("blog-title") ? "blog-title" : "blog-excerpt"];
          el.style.overflow = "hidden";
          btn.textContent = "Read more ‚Üì";
        }
      });

      el.insertAdjacentElement("afterend", btn);
    }
  });
});

document.querySelectorAll('.blog-card').forEach(card => {
  const excerpt = card.querySelector('.blog-excerpt');
  if (!excerpt) return;

  const btn = document.createElement('button');
  btn.className = 'read-more-btn';
  btn.textContent = 'Read more';
  excerpt.after(btn);

  btn.addEventListener('click', () => {
    const expanded = btn.textContent === 'Read less';
    excerpt.style['-webkit-line-clamp'] = expanded ? 3 : 'unset';
    btn.textContent = expanded ? 'Read more' : 'Read less';
  });
});


</script>

</body>
</html>
